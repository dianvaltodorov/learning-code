Опашкова рекурсия

Процедура (sum start end)), която сумира числя в един интервал:
(define (sum start end)
  (if (>= start end)
      end
      (+ start (sum (+ start 1) end))))

Ако се опитаме да сметнем (sum 1 10000000) излиза че е достигнат лимита за памет 128mb

Сравнено с JavaScript изциклянето работи.

При Scheme не работи защото става вложена във вложена във вложена рекурсия. Проблема е със стек на функциите.

Стека се пълни докрай и чак тогава започва да се изпълнвяват изчислява

Това е недостатък и трябва и да се оптимизира. Идеята е опшаковата рекурся.

При нея не ни се налага да навлезем най докрая на стека, за да започнем отново да изпълнява стека

Ако процедура намира някаква стойност, като се извиква себе си със други аргументи.
